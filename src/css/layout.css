/* ========================================
   LAYOUT COMPONENTS
   Container, Grid, Sections
   ======================================== */

/* Container */
.container {
  max-width: var(--container-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
  width: 100%;
}

.container-fluid {
  width: 100%;
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
}

/* Bauhaus Grid System */
.bauhaus-grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns), 1fr);
  gap: var(--grid-gap);
}

.grid-item {
  grid-column: span var(--span, 1);
}

/* Common grid layouts - RESPONSIVE: Mobile-first approach */
.grid-2,
.grid--2-col {
  display: grid;
  grid-template-columns: 1fr;           /* Mobile: 1 column */
  gap: var(--grid-gap);
}

.grid-3,
.grid--3-col {
  display: grid;
  grid-template-columns: 1fr;           /* Mobile: 1 column */
  gap: var(--grid-gap);
}

.grid-4 {
  display: grid;
  grid-template-columns: 1fr;           /* Mobile: 1 column */
  gap: var(--grid-gap);
}

/* Auto-fit grid */
.grid-auto {
  display: grid;
  grid-template-columns: 1fr;           /* Mobile: 1 column */
  gap: var(--grid-gap);
}

/* Projects grid - MUSEUM BAUHAUS: Asymmetric layout - MOMA FIX */
.projects-grid {
  display: grid;
  grid-template-columns: 1fr;           /* Mobile: 1 column */
  gap: var(--spacing-md);
}

/* Tablet: 768px+ (2 columns with feature emphasis) */
@media (min-width: 768px) {
  .grid-2,
  .grid--2-col,
  .grid-3,
  .grid--3-col,
  .grid-auto {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .projects-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-lg);
  }
  
  /* Feature first project on tablet */
  .projects-grid > :first-child {
    grid-column: span 2;
  }
  
  .blog-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop: 1024px+ (3 columns with Bauhaus asymmetry) */
@media (min-width: 1024px) {
  .grid-3,
  .grid--3-col {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .grid-4 {
    grid-template-columns: repeat(3, 1fr);
  }
  
  /* MOMA FIX: Use 6-column grid for precise asymmetric control */
  .projects-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: var(--spacing-xl);  /* More breathing room on desktop */
  }
  
  /* Bauhaus asymmetric emphasis pattern - every 3rd item gets different size */
  .projects-grid > :nth-child(3n+1) {
    grid-column: span 4;  /* Larger emphasis - 2/3 width */
  }
  
  .projects-grid > :nth-child(3n+2) {
    grid-column: span 2;  /* Smaller - 1/3 width */
  }
  
  .projects-grid > :nth-child(3n+3) {
    grid-column: span 3;  /* Medium - 1/2 width */
  }
  
  /* Alternate pattern for visual variety starting at 7th item */
  .projects-grid > :nth-child(n+7):nth-child(3n+1) {
    grid-column: span 2;  /* Flip the pattern */
  }
  
  .projects-grid > :nth-child(n+7):nth-child(3n+2) {
    grid-column: span 4;
  }
  
  /* Blog stays 2 columns with feature emphasis */
  .blog-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-xl);
  }
  
  /* First blog post gets featured treatment */
  .blog-grid > :first-child {
    grid-column: span 2;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-lg);
  }
}

/* Large Desktop: 1440px+ (4 columns for grid-4) */
@media (min-width: 1440px) {
  .grid-4 {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* MOMA FIX: Tablet blog grid optimization for reading (768-1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .blog-grid {
    grid-template-columns: 1fr;  /* Single column for optimal reading */
    max-width: 720px;  /* Optimal reading width (~75 characters) */
    margin: 0 auto;
  }
}

/* Mobile spacing adjustments */
@media (max-width: 767px) {
  .section {
    padding: var(--spacing-lg) 0;        /* Better mobile spacing */
  }

  .section-lg {
    padding: var(--spacing-xl) 0;        /* Better mobile spacing */
  }
  
  .container {
    padding-left: var(--spacing-md);     /* Better mobile padding */
    padding-right: var(--spacing-md);
  }

  /* Better mobile section spacing */
  .section--alt {
    padding: var(--spacing-lg) 0;
  }

  .featured-projects {
    padding: var(--spacing-lg) 0;
  }
}
